<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <h:outputText value="#{selecionarVariantesMB.analise.id}" />
        <h:form id="fomulario">
            <p:panel>
                <f:facet name="header" >
                    <h:outputText value="filtros" />
                    <p:panelGrid columns="1">
                        <h:outputLabel value="Automático" for="automatico" />
                        <p:selectOneMenu id="automatico">
                            <f:selectItem itemLabel="1" itemValue="" />
                            <f:selectItem itemLabel="2" itemValue="" />
                            <f:selectItem itemLabel="3" itemValue="" />
                            <f:selectItem itemLabel="4" itemValue="" />
                            <f:selectItem itemLabel="5" itemValue="" />
                        </p:selectOneMenu>
                    </p:panelGrid>
                </f:facet>
                
            </p:panel>
             <p:focus context=":fomulario:varianteDtable:panel"/>
            <p:dataTable value="#{selecionarVariantesMB.listVariante}"
                         var="variante" 
                         widgetVar="varianteTable"
                         paginator="false"
                         id="varianteDtable"
                         >

                <p:column >                
                    <f:facet name="header">
                        <p:panelGrid columns="1">
                            <h:outputText value="Id" />
                            <p:inputText value="#{selecionarVariantesMB.filtro.fid}" 
                                         style="width:150px" placeholder="id"                                          
                                         >
                                <p:ajax event="blur" listener="#{selecionarVariantesMB.filtrar}" update="varianteDtable"/>
                            </p:inputText>
                        </p:panelGrid>
                    </f:facet>
                    <h:outputText value="#{variante.id }" />
                </p:column>
                
                
                <p:column >                
                    <f:facet name="header">
                            <p:commandLink value="Cromossomo" />
                            <p:inputText  id="panel" style="width:0px" placeholder="Impacto" rendered="false"/>
                    </f:facet>
                    <h:outputText value="#{variante.cromossomo.nome }" />
                </p:column>
                
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Posicao" />
                    </f:facet>
                    <h:outputText value="#{variante.cromossomoPosicao }" />
                </p:column>
                
                
                
                <p:column>
                    <f:facet name="header">
                        <p:panelGrid columns="1">
                            <h:outputText value="SNP" />
                            <p:inputText value="#{selecionarVariantesMB.filtro.refSNP}" 
                                         style="width:150px" placeholder="Enter refSNP" 
                                         >
                                <p:ajax event="blur" update="@form"  listener="#{selecionarVariantesMB.filtrar}" />
                            </p:inputText>
                        </p:panelGrid>
                    </f:facet>
                    <h:outputLink value="https://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi" target="_blank">
                        <h:outputText value="#{variante.refSNP }" />
                        <f:param name="rs" value="#{variante.refSNP}" />
                    </h:outputLink>
                </p:column>

                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Referência" />
                    </f:facet>
                    <h:outputText value="#{variante.referencia }" />
                </p:column>
                
                                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Alterado" />
                    </f:facet>
                    <h:outputText value="#{variante.trocado }" />
                </p:column>
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Qualidade" />
                    </f:facet>
                    <h:outputText value="#{variante.qualidade }" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <p:commandLink value="Impacto" type="button" onclick="PF('dlg1').show();" />
                        <p:dialog header="Selecione o impacto" widgetVar="dlg1" resizable="true" width="800">
                            <p:selectManyCheckbox id="basic"  layout="grid" columns="1" value="#{selecionarVariantesMB.filtro.selectedImpacto}" >                                                                                                                          
                                <f:selectItem itemLabel="LowQual" itemValue="lowqual" />                                           
                                <f:selectItem itemLabel="PASS" itemValue="PASS" />
                                <f:selectItem itemLabel="VQSRTrancheINDEL99.00to99.90"  itemValue="QSRTrancheINDEL99.00to99.90" />
                                <f:selectItem itemLabel="VQSRTrancheINDEL99.90to100.00" itemValue="VQSRTrancheINDEL99.90to100.00" />                                            
                                <f:selectItem itemLabel="VQSRTrancheSNP99.00to99.90"    itemValue="VQSRTrancheSNP99.00to99.90" />
                                <f:selectItem itemLabel="VQSRTrancheSNP99.90to100.00"   itemValue="sVQSRTrancheSNP99.90to100.00" />
                            </p:selectManyCheckbox>
                            <p:commandButton value="filtrar" action="#{selecionarVariantesMB.filtrar}" onclick="PF('dlg1').hide();" update="@form"/>                                        
                        </p:dialog>

                    </f:facet>
                    <h:outputText value="#{variante.filter }" />
                </p:column>

                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="AC" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.ac }" />
                </p:column> 
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="AF" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.af }" />
                </p:column>   
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="AN" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.an }" />
                </p:column> 
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="DP" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.dp }" />
                </p:column> 
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="ExcessHet" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.excessHet }" />
                </p:column> 

                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Base Q Rank Sum" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.baseQRankSum }" />
                </p:column> 

                
                
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Clipping Rank Sum" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.clippingRankSum }" />
                </p:column> 
                
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="FS" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.fs }" />
                </p:column>                 
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="MLEAC" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.mleac }" />
                </p:column>                 
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="MLEAF" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.mleaf }" />
                </p:column>                 
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="MQ" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.mq }" />
                </p:column> 

                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="MQ Rank Sum" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.mQRankSum}" />
                </p:column> 

                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="SOE" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.sOR }" />
                </p:column> 

                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="VQSLOD _erro" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.vQSLOD }" />
                </p:column>                 
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="QD" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.qd }" />
                </p:column> 
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Curlprint erro" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.culprit }" />
                </p:column>  
                
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="ANN" />
                    </f:facet>
                    <h:outputText value="#{variante.varianteInfo.ann }" />
                </p:column> 
                
                <!--
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Info" />
                    </f:facet>
                    <h:outputText value="#{variante.info }" />
                </p:column>
                
                <p:column >                
                    <f:facet name="header">
                            <h:outputText value="Format" />
                    </f:facet>
                    <h:outputText value="#{variante.format }" />
                </p:column>
                -->
            </p:dataTable>
             
        </h:form>
    </ui:define>

</ui:composition>
